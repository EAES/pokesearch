<!-- loading -->
<div ng-if="!pokemon && !serviceError">
  <img src="assets/images/loader.gif" />
  <p>Loading...</p>
</div>
<!-- error -->
<div ng-if="serviceError">
  <p>{{ serviceError }}</p>
</div>
<!-- content -->
<div ng-if="pokemon">
	<img id="pokemon-art" ng-src="assets/pokemon/{{pokemon.id}}.png" />

	<h1>{{ pokemon.name | capitalize}}</h1>
	<h5>#{{ pokemon.id | numLength:3}}</h5>
	<ul id="types">
		<li	ng-repeat="types in pokemon.types">
			{{types.type.name}}
		</li>
	</ul>

	<h4>Base Stats</h4>
	<ul id="base-stats">
		<li ng-repeat="stats in pokemon.stats | orderBy:'-'">
			{{stats.stat.name}}: {{stats.base_stat}}
		</li>
	</ul>

	<!-- <pre>{{ pokemonEvoDump | json }}</pre>
	<pre>{{ pokemonEvoChain | json }}</pre> -->

	<h4>Evolution Chain</h4>
	<div ng-if="pokemonEvoChain == '' ">
	  <img src="assets/images/loader.gif" />
	  <p>Loading...</p>
	</div>
	<ul ng-repeat="evo in pokemonEvoChain">
		
		<a ng-click="changePokemon(evo.species_name)">
			<li ng-if="evo.min_level == 1">
				<strong>{{evo.species_name | capitalize}}</strong>
			</li>
		</a>
		
		<a ng-click="changePokemon(evo.species_name)">
			<li ng-if="evo.trigger_name">
				<strong>{{ evo.species_name | capitalize }}</strong>

			<!-- if by level up -->
				<span ng-if="evo.trigger_name == 'level-up' ">
					<span ng-if="evo.min_level !== null ">lvl {{ evo.min_level }}</span>
					<!-- if levelup + weather -->
					<span ng-if="evo.overworld_rain">Rain</span>
				</span>
				
				<!-- if bytrade -->
				<span ng-if="evo.trigger_name == 'trade' ">trade
					<!-- if level + trade-->
					<span ng-if="evo.min_level !== null ">lvl {{ evo.min_level }}</span>
					<!-- if held item + trade -->
					<span ng-if="evo.held_item !== null ">holding {{ evo.held_item.name | capitalize }}</span>
				</span>
				
				<!-- if by item -->
				<span ng-if="evo.trigger_name == 'use-item' ">using {{evo.item.name}}
					<span ng-if="evo.min_level !== null ">lvl {{ evo.min_level }}</span>
				</span>
				
				<!-- if by happiness -->
				<span ng-if="evo.happiness != null ">Happiness</span>
			</li>
		</a>
	</ul>

	<h4>Type Effectiveness</h4>
	<ul ng-repeat="type in typeEffectiveness">
		<h6>{{ type.name }}:</h6>
		<li ng-if="type.immunes"> No damage against: {{ type.immunes }} </li>
		<li ng-if="type.weaknesses"> Not very effective against: {{ type.weaknesses }} </li>
		<li ng-if="type.strengths"> Super-effective against: {{ type.strengths }} </li>
	</ul>

</div>